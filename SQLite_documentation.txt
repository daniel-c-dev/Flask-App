Basic info for the SQLite code used to access the database. (Taken from Flask documentation: https://flask.palletsprojects.com/en/2.0.x/tutorial/database/).

g is a special object that is unique for each request. It is used to store data that might be access by multiple functions during the request.
current_app is a special object that points to the Flask application handling the request.
sqlite3.connect() establishes a connection to the file pointed at by the 'DATABASE' configuration key.
sqlite3.Row tells the connection to return rows that behave like dicts. This allows accessing the columns by name.
close_db checks if a connection was created by checking if g.db was set.